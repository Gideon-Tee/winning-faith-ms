{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WFIS</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="shortcut icon" href="{% static 'new-logo.png' %}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="row gx-0" >
        <!-- Left panel  -->
        <div class="col col-lg-3 pb-4" style="background-color: #0c3675; height: 100vh; overflow-y: auto;">
            <div class="row w-100">
                <div class="col-lg-5 logo">
                    <img src="{% static 'new-logo.png' %}" alt="" class="img-fluid" height="55">
                </div>
                <div class="col-lg-7 school-name mt-3">
                    <a href="{% url 'index' %}" class="text-decoration-none"><h5 class="text-white">Winning Faith International School</h5></a>
                </div>
            </div><hr class="text-white">
            <div class="container row">
                <div class=" mt-3 mb-3">
                    <h5 class="text-secondary">MAIN</h5>
                    <a href="{% url 'index' %}" class="text-decoration-none"><h6 class="text-white">Dashboard</h6></a>
                </div>
                <div class="mt-3 mb-3">
                    <h5 class="text-secondary">ADMINISTRATION</h5>
                    <h6 class="text-white">Academic calender</h6>
                    <a href="{% url 'classes' %}" class="text-decoration-none"><h6 class="text-white">Classes</h6></a>
                    <a href="{% url 'finance' %}" class="text-decoration-none"><h6 class="text-white">Finance</h6></a>
                    <h6 class="text-white">Certificates</h6>
                    <h6 class="text-white">Testimonials</h6>
                </div>
                <div class="mt-3 mb-3">
                    <h5 class="text-secondary">STUDENT</h5>
                    <a href="{% url 'enroll' %}" class="text-decoration-none"><h6 class="text-white">Enroll new student</h6></a>
                    <a href="{% url 'students' %}" class="text-decoration-none"><h6 class="text-white">ALL students</h6></a>
                    <a href="{% url 'student_fees' %}" class="text-decoration-none"><h6 class="text-white">Student fees</h6></a>
                </div>
                <div class="mt-3 mb-3">
                    <h5 class="text-secondary">TEACHER</h5>
                    <a href="{% url 'add_teacher' %}" class="text-decoration-none"><h6 class="text-white">Add new teacher</h6></a>
                    <a href="{% url 'teachers' %}" class="text-decoration-none"><h6 class="text-white">Teacher info</h6></a>
                    <h6 class="text-white"></h6>
                    <h6 class="text-white">Classes</h6>
                </div>
            </div>

        </div>
        <!-- Main content  -->
        <div class="col-lg-9 pt-2">
            <!-- top header content -->
            
            {% include 'navbar.html' %}
            
            <div class="container w-100 mt-3 rounded-start rounded-end" style="height: calc(100vh - 64px); overflow-y: auto; background-color: #c5dafa;">

                {% block content %}
                <div class="container row home w-100 mt-3 pb-3">
                    <h4 class="blue-text mt-2 mb-3 display-6">Overview</h4>
                    <!-- card elements -->
                    <div class="col-6 col-lg-3">
                        <div class="card shadow mb-3 bg-white">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="{% static 'student.jpeg' %}" class="img-fluid rounded-start h-100" alt="...">
                              </div>
                              <div class="col-md-8 bg-white">
                                <div class="card-body bg-white">
                                  <h5 class="text-muted m-0">Students</h5>
                                  <p class="card-text blue-text fw-bold">{{student_population}} </p>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3 h-auto">
                        <div class="card shadow b-3">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="{% static 'teacher2.png' %}" class="img-fluid rounded-start h-100" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="text-muted m-0">Teachers</h5>
                                  <p class="card-text blue-text fw-bold">{{teacher_population}}</p>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3 ">
                        <div class="card shadow mb-3">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="{% static 'staff.jpeg' %}" class="img-fluid rounded-start h-100" >
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="text-muted m-0">Other Staff</h5>
                                  <p class="card-text blue-text fw-bold">12</p>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-lg-3">
                        <div class="card shadow mb-3">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="{% static 'blank-profile-picture.png' %}" class="img-fluid rounded-start h-100" >
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="text-muted m-0">Classes</h5>
                                  <p class="card-text blue-text fw-bold">{{num_of_classes}}</p>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 bg-white mt-4 mb-3 rounded shadow">
                        <div class="container mb-4">
                            <h5 class="blue-text mt-3 mb-3">JHS</h5>
                            <div class="scrollable-div">
                                <table class="table table-striped">
                                    <tr>
                                        <th>Name</th>
                                        <th>Class</th>
                                        <th>Fees Paid</th>
                                        <!-- <th>Fees Owing</th> -->
                                    </tr>
                                    
                                    {% for student in jhs_students %}
                                    <tr>
                                        <td>{{student.fname}} {{student.lname}}</td>
                                        <td>{{student.classroom}}</td>
                                        <td>{{student.fees_paid}}</td>
                                        <!-- <td></td> -->
                                    </tr>
                                    {% endfor %}
                                        
                                    
                                </table>
                            </div>
                        </div>
    
                    </div>
                    <div class="col-lg-1"></div>
                    <div class="col-12 col-lg-5 bg-white mt-4 mb-3 rounded shadow pb-4">
                        <div class="container mb-4">
                            <h5 class="blue-text mt-3 mb-3">Recently admitted students</h5>
                            <div class="scrollable-div">
                                <table class="table table-striped">
                                    <tr>
                                        <th>First name</th>
                                        <th>Last name</th>
                                        <th>Class</th>
                                    </tr>
                                    {% for student in students reversed %}
                                        <tr>
                                            <td>{{student.fname}}</td>
                                            <td>{{student.lname}}</td>
                                            <td>{{student.classroom}}</td>
                                        </tr>
                                    {% endfor %}
                                        
                                </table>
                            </div>
                            
                        </div>
                    </div>
                </div>
                {% endblock content %}
            </div>
            
                
                
        </div>
    </div>
    <script>
        const date = new Date();
        const dateString = date.toISOString().split('T')[0];
        const dayOfWeek = date.toLocaleDateString('en-US', {weekday: "short"});
        // document.getElementById('dateDiv').style.marginTop = 3;
        document.getElementById('dateDiv').innerHTML = `${dayOfWeek}, ${dateString}`;

        function makeBold(obj) {
            obj.style.innerHTML = 'bold';
        }
    </script>
</body>
</html>